## 날짜: 2025-03-02
2.20 ~ 3.1 진행한 아이디어톤 & 해커톤 관련 회고 

### 스크럼
- 학습 목표 1 : 아이디어톤 진행 사항
- 학습 목표 2 : 해커톤 진행 사항
- 학습 목표 3 : 회고

### 새로 배운 내용
#### 주제 1: 아이디어톤 진행
- 아이디어톤 팀장 & 오프라인에서 서비스 구상 발표(유일하게 직접 발표를 해서 팀원을 모음. 서비스 기획 & 필요한 기술에 대한 내용 발표. QA 진행. 사람들에게서 높은 호응과 지원률 보임.)
- 카테부에서의 나의 어려움(밥 먹을 팟 구하기, 메뉴 선정) 해결 위한 서비스 구상
- 웹 서비스 내에서 같이 밥 먹을 사람들을 모집하고 챗봇을 통해서 메뉴 추천
- 해커톤이 목표가 아닌 카카오테크 부트캠프 6개월 간의 서비스 운영을 위한 팀원 리크루잉
- 아이디어톤 전에 카테부 내에 홍보물(서비스 아이디어를 직관적 전달할 수 있도록 
과외홍보물 형식으로 가상의 밥팟 모집) 부착 및 해커톤 기간에 홍보물 기반 이벤트 진행(홍보물 내 번호 추첨으로 간식 배부)

#### 주제 2: 해커톤 진행 사항(내가 한 일 바탕)
- 전체 기획 팀장 및 AI 파트 팀장
- 피피티로 페이지 구성 및 유저의 이용 시나리오 작성해서 팀원들에게 공유
- 크롤링을 통한 식당 데이터 마련 및 데이터 전처리(위도 경도 추가, 링크 추가, 식당
카테고리 선정 및 반영, 결측치 처리)
- 랭체인 만들기 (rag를 바탕으로 벡터DB에서 유사도 높은 식당 탐색 및 추천)
- 랭체인 고도화 (메모리 기능, thread 분리 기능, model binding tool을 이용해
llm의 판단에 따라 노드 흐름 분리, 인메모리 벡터DB 구축, RDS로 AWS 내 식당 table과 연동, 프롬프트 엔지니어링)
- AI 서버 구축 위한 준비 (도커 이미지 생성 및 도커 컨테이너에서 챗봇 테스트, fast api 작업 참여, 포스트맨 이용해서 http 요청 테스트, 프론트엔드와 api 명세서를 바탕으로 요청 및 응답 형식 결정)
- 해커톤 발표 QA 진행
    - 랭체인 관련 기술 답변 - 서비스 최적화 랭체인 직접 만듦, 데이터 처리 관련 답변(부족한 데이터는 증강함)
    - 기획 관련 답변 - 식당 범위 선정 이유, 추후 캐치테이블 이용해 웨이팅 반영 고려, 스터디나 대회 팀원 모집을 위한 커피챗 기능 추가 등
- 발표 자료에서 랭체인 파이프라인 설계
- 카카오 대표이사상 본상 수상

### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: 랭체인 흐름 분리
    - 문제 상황: rag가 필요한 상황과 그렇지 않은 상황에 따라 흐름 분리가 필요함.
    그렇게 하지 않는다면 '나는 노아야' 같은 문장에도 rag 진행되고 
    이후 프롬프트 엔지니어링에서 '식당 요청이 아니면 유사도 검색된 식당 이용하지마' 같은 임시방편으로 대처해야 함.
    - 해결 방안: LangGraph의 StateGraph 이용해서 노드 분리. 이때 model binding tools를 이용해서 llm이 rag가 필요한지 판단하도록 함.
    - 결과: rag가 필요한 상황과 그렇지 않은 상황이 적절히 분리되어 응답의 정확도가 향상되고 불필요한 프롬프트 템플릿 내용 증가를 해결.
- 도전 과제 2: 벡터DB 유사도 검색 성능 개선 업무 진행한 팀원과 코드 합치기
    - 문제 상황: 
    1. 벡터DB에서 유사도 성능 높이기 위해 팀원이 데이터 증강 업무 진행함.
    2. 랭체인 완성하고 높은 검색 성능 완성한 팀원과 합치기 진행.
    3. 이때 팀원은 openai 라이브러리 버전 낮은 것 사용. 나는 랭체인 구축을 위해 높은 버전이 필요한 상태. 팀원이 사용한 임베딩 메서드는 높은 버전에서 지원하지 않음. 높은 버전에서 다른 메서드 이용해 동일한 임베딩 모델 적용했을 때는 성능이 향상되지 않음
    4. 검색 성능을 포기해야 할 위기에 철함.
    - 해결 방안: 최신 라이브러리에서 다른 임베딩 모델들 시도해보며 테스트
    - 결과: 팀원이 테스트했을 때와 유사한 성능의 유사도 검색 가능하며
    새 임베딩 모델은 달러 당 페이지 수가 많아 금전적 이점도 가짐.


### 오늘의 회고
- 해커톤 기간동안 모든 팀원들이 각자의 자리에서 최선을 다했기에 뿌듯하다.
- 다만 아쉬운 점은 우리 팀이 여타 팀들보다 많은 기능성을 가지고 있고(랭체인 구축 직접함, 다른 팀들은 프롬프트 엔지니어링만 진행한 것을 본선 발표에서 확인함. 데이터도 직접 크롤링으로 찾아서 전처리 진행해서 퀄리티 올림) 결과물을 만들기까지 많은 시도와 점진적 개선이 있었다.(기존 체인 버리고 새로 만든 것, 임베딩 방식도 다 테스트해보고 최종 결정한 것) 그런데 심사위원들이 이 분야에 배경지식을 가지고 있지 않은 분들일 줄 몰랐다. 대략적인 설명으로는 우리의 기능성과 노력을 충분히 이해시킬 수 없었다. QA 세션에서 최대한 전달하였으나 우리의 차별성을 충분히 전달하지 못한 것에 대한 아쉬움이 있다.
- 이후에 해커톤 참여할 때는 아래 내용에도 집중할 것이다.
    - 피피티에서 우리가 한 일들을 최대한 자랑한다. 구체적으로 세세하게 자랑한다.
    - UI에 공 들인다. 기술성보다 눈에 바로 보이는 페이지 디자인이나 피피티 디자인에 높은 점수를 주시기에 이부분에 더 공을 들여야 겠다.
    - 발표 자료 및 스크립트 준비를 철저하게 한다. UI 이야기, 최대한 자랑하기와 일맥상통하는 것인데 발표 준비에 충분히 시간을 들여야 한다. 2~3 시간이면 충분할 거라 생각했는데 전날 밤부터는 완전히 발표 준비에만 집중해야 겠다.
- 우리는 6개월 간의 서비스가 목표이기에 현재의 MVP는 부족하다. 지속적인 회의 및 개발을 통해 '밥팟'을 완성해나가서 우리만의 6개월 해커톤을 진행해보자!
